"use strict";(self.webpackChunkmigrated_blog=self.webpackChunkmigrated_blog||[]).push([[6980],{6262:(e,n)=>{n.A=(e,n)=>{const t=e.__vccOpts||e;for(const[e,a]of n)t[e]=a;return t}},8341:(e,n,t)=>{t.r(n),t.d(n,{comp:()=>r,data:()=>s});var a=t(641);const i={},r=(0,t(6262).A)(i,[["render",function(e,n){return(0,a.uX)(),(0,a.CE)("div",null,n[0]||(n[0]=[(0,a.Fv)('<h2 id="pnpm对比于npm、yarn" tabindex="-1"><a class="header-anchor" href="#pnpm对比于npm、yarn"><span>pnpm对比于npm、yarn</span></a></h2><h3 id="硬链接与软链接" tabindex="-1"><a class="header-anchor" href="#硬链接与软链接"><span><a href="https://blog.csdn.net/gao_zhennan/article/details/79127232?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-79127232-blog-112852334.pc_relevant_recovery_v2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-79127232-blog-112852334.pc_relevant_recovery_v2&amp;utm_relevant_index=2" target="_blank" rel="noopener noreferrer">硬链接与软链接</a></span></a></h3><ul><li>硬链接实现</li></ul><div class="language-vim line-numbers-mode" data-highlighter="shiki" data-ext="vim" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-vim"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ln 源文件 目标文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>软链接实现</li></ul><div class="language-vim line-numbers-mode" data-highlighter="shiki" data-ext="vim" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-vim"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ln -s 源文件 目标文件</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>总结：</strong></p><ul><li><strong>硬链接等同于cp -p(复制) + 同步更新</strong></li><li><strong>软链接像快捷方式，方便我们打开源文件</strong></li></ul><h3 id="删除源文件对硬链接文件和软链接文件的影响" tabindex="-1"><a class="header-anchor" href="#删除源文件对硬链接文件和软链接文件的影响"><span>删除源文件对硬链接文件和软链接文件的影响</span></a></h3><p>和windows一样，<strong>删除源文件，快捷方式也用不了(软链接文件用不了)</strong>。但是<strong>删除源文件，为什么硬链接文件还可以查看</strong>呢？</p><h4 id="i节点" tabindex="-1"><a class="header-anchor" href="#i节点"><span>i节点</span></a></h4><ul><li><strong>i节点是文件和目录的唯一标识</strong>，每个文件和目录必有i节点，不然操作系统就无法识别该文件或目录，就像没有上户口的黑户。</li><li>硬链接文件和源文件i节点号相同，并且一个i节点可以对应多个文件名。</li></ul><figure><img src="https://s1.ax1x.com/2022/11/02/xHwdDe.png" alt="xHwdDe.png" tabindex="0" loading="lazy"><figcaption>xHwdDe.png</figcaption></figure><ul><li><strong>删除了jys,只是删除了从920586到jys的映射关系</strong>，<strong>不影响它和jys.hard的映射</strong>关系。</li><li>此图也解释了硬链接的同步更新，<strong>对源文件修改，操作系统只认i节点</strong>，于是操作系统就将修改内容写进所有i节点相同名字不同的文件。</li><li>相反，修改硬链接文件，操作系统也将同步的将硬链接对应的i节点所有文件都进行修改</li></ul><h2 id="pnpm" tabindex="-1"><a class="header-anchor" href="#pnpm"><span>pnpm</span></a></h2><h3 id="理解图片即可" tabindex="-1"><a class="header-anchor" href="#理解图片即可"><span>理解图片即可</span></a></h3><figure><img src="https://s1.ax1x.com/2022/11/02/xHBDpt.png" alt="xHBDpt.png" tabindex="0" loading="lazy"><figcaption>xHBDpt.png</figcaption></figure><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><ul><li><strong>npm2 是通过嵌套的方式管理 node_modules</strong> 的，会有同样的依赖复制多次的问题。</li><li><strong>npm3+ 和 yarn 是通过铺平的扁平化的方式来管理 node_modules</strong>，解决了嵌套方式的部分问题，但是引入了**幽灵依赖(可以引用非用户手动引入的包)**的问题，并且同名的包只会提升一个版本的，其余的版本依然会复制多次。</li><li>pnpm 则是用了另一种方式，不再是复制了，而是都从<strong>全局 store 硬连接到 node_modules/.pnpm</strong>，然后之间<strong>通过软链接来组织依赖关系</strong>。</li></ul>',19)]))}]]),s=JSON.parse('{"path":"/posts/blogs/pnpm%E5%AF%B9%E6%AF%94%E4%BA%8Enpm-yarn","title":"pnpm对比于npm-yarn","lang":"zh-CN","frontmatter":{"title":"pnpm对比于npm-yarn","date":"2022-11-02T15:00:00.000Z","permalink":"/posts/blogs/pnpm对比于npm-yarn","isTimeLine":true,"category":["我的前端路线"],"tag":["pnpm"],"icon":"pen-to-square","star":true,"sticky":true,"description":"pnpm对比于npm、yarn 硬链接与软链接 硬链接实现 软链接实现 总结： 硬链接等同于cp -p(复制) + 同步更新 软链接像快捷方式，方便我们打开源文件 删除源文件对硬链接文件和软链接文件的影响 和windows一样，删除源文件，快捷方式也用不了(软链接文件用不了)。但是删除源文件，为什么硬链接文件还可以查看呢？ i节点 i节点是文件和目录的...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"pnpm对比于npm-yarn\\",\\"image\\":[\\"https://s1.ax1x.com/2022/11/02/xHwdDe.png\\",\\"https://s1.ax1x.com/2022/11/02/xHBDpt.png\\"],\\"datePublished\\":\\"2022-11-02T15:00:00.000Z\\",\\"dateModified\\":\\"2025-07-03T11:15:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Hope\\",\\"url\\":\\"https://mister-hope.com\\"}]}"],["meta",{"property":"og:url","content":"https://mister-hope.github.io/migrated_blog/posts/blogs/pnpm%E5%AF%B9%E6%AF%94%E4%BA%8Enpm-yarn"}],["meta",{"property":"og:site_name","content":"博客演示"}],["meta",{"property":"og:title","content":"pnpm对比于npm-yarn"}],["meta",{"property":"og:description","content":"pnpm对比于npm、yarn 硬链接与软链接 硬链接实现 软链接实现 总结： 硬链接等同于cp -p(复制) + 同步更新 软链接像快捷方式，方便我们打开源文件 删除源文件对硬链接文件和软链接文件的影响 和windows一样，删除源文件，快捷方式也用不了(软链接文件用不了)。但是删除源文件，为什么硬链接文件还可以查看呢？ i节点 i节点是文件和目录的..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://s1.ax1x.com/2022/11/02/xHwdDe.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-03T11:15:49.000Z"}],["meta",{"property":"article:tag","content":"pnpm"}],["meta",{"property":"article:published_time","content":"2022-11-02T15:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-03T11:15:49.000Z"}]]},"git":{"createdTime":1751541349000,"updatedTime":1751541349000,"contributors":[{"name":"zhujinfa","username":"zhujinfa","email":"2095229306@qq.com","commits":1,"url":"https://github.com/zhujinfa"}]},"readingTime":{"minutes":2,"words":599},"filePathRelative":"posts/blogs/pnpm对比于npm-yarn.md","excerpt":"<h2>pnpm对比于npm、yarn</h2>\\n<h3><a class=\\"header-anchor\\" href=\\"#硬链接与软链接\\"><span></span></a><a href=\\"https://blog.csdn.net/gao_zhennan/article/details/79127232?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-79127232-blog-112852334.pc_relevant_recovery_v2&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-79127232-blog-112852334.pc_relevant_recovery_v2&amp;utm_relevant_index=2\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">硬链接与软链接</a></h3>","autoDesc":true}')}}]);